!function(e,a){function t(){}function i(t){a.BaseGateway.call(this,t),a.ProductGateway.call(this),e(document.body).on("change",'[name="quantity"]',this.mount_message.bind(this,!0))}function s(t){a.BaseGateway.call(this,t),a.CartGateway.call(this)}t.prototype.add_eligibility=function(t){e(t).length&&(this.needs_shipping()?e(t).removeClass("ineligible"):e(t).addClass("ineligible"))},t.prototype.get_element_options=function(){var t=this.params.locale;return"GBP"===this.get_currency()&&["fr-FR","it-IT","es-ES"].indexOf(t)<0?t="en-GB":this.params.supported_locales.indexOf(this.params.locale)<0&&(t="auto"),{locale:t}},(i.prototype=e.extend({},a.BaseGateway.prototype,a.ProductGateway.prototype,t.prototype)).initialize=function(){this.msgElement||(this.create_element(),this.mount_message(),this.add_eligibility("#wc-stripe-afterpay-product-msg"))},i.prototype.get_product_price=function(){var t=(t=e('[name="quantity"]').val())||0;return this.get_product_data().price*Math.pow(10,2)*parseInt(t)},i.prototype.create_element=function(){this.msgElement=this.elements.create("afterpayClearpayMessage",e.extend({},this.params.msg_options,{amount:this.get_product_price(),currency:this.get_currency()}))},i.prototype.mount_message=function(t){t&&this.msgElement&&this.msgElement.update({amount:this.get_product_price(),currency:this.get_currency(),isEligible:this.needs_shipping()}),e("#wc-stripe-afterpay-product-msg").length||e(".summary .price").append('<div id="wc-stripe-afterpay-product-msg"></div>'),this.msgElement.mount("#wc-stripe-afterpay-product-msg")},(s.prototype=e.extend({},a.BaseGateway.prototype,a.CartGateway.prototype,t.prototype)).initialize=function(){!this.msgElement&&e(this.container).length&&(this.create_element(),this.mount_message(),this.add_eligibility("#wc-stripe-afterpay-cart-container"))},s.prototype.create_element=function(){this.msgElement=this.elements.create("afterpayClearpayMessage",e.extend({},this.params.msg_options,{amount:this.get_total_price_cents(),currency:this.get_currency()}))},s.prototype.mount_message=function(t){t&&this.msgElement&&this.msgElement.update({amount:this.get_total_price_cents(),currency:this.get_currency(),isEligible:this.needs_shipping()}),e("#wc-stripe-afterpay-cart-container").length||e(".cart_totals table.shop_table tbody").append('<tr id="wc-stripe-afterpay-cart-container"><td colspan="2"><div id="wc-stripe-afterpay-cart-msg"></div></td></tr>'),this.msgElement.mount("#wc-stripe-afterpay-cart-msg")},s.prototype.updated_html=function(){e(this.container).length&&(this.mount_message(!0),this.add_eligibility("#wc-stripe-afterpay-cart-container"))},"undefined"!=typeof wc_stripe_afterpay_product_params?new i(wc_stripe_afterpay_product_params):"undefined"!=typeof wc_stripe_afterpay_cart_params&&new s(wc_stripe_afterpay_cart_params)}(jQuery,window.wc_stripe);